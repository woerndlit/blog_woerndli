Title: Posts
ShowInNavbar: true
Order: -1
ArchiveSources: => GetString("PostSources")
ArchiveFilter: => GetBool("IsPost")
ArchivePageSize: 10
ArchiveOrderKey: Published
ArchiveOrderDescending: true
ArchiveDestination: >
    => GetInt("Index") <= 1 ? $"posts/index.html" : $"posts/page/{GetInt("Index")}/index.html"
---
@foreach(IGrouping<int, IDocument> group in Document
    .GetChildren()
    .GroupBy(x => x.GetDateTime(WebKeys.Published).Year)
    .OrderByDescending(x => x.Key))
{
    <h1 class="bg-dark text-light p-2">@group.Key</h1>
    foreach (IDocument post in group)
    {
        <div class="post-preview">
            <h3 class="post-title">@Html.DocumentLink(post)</h3>
            @if(post.ContainsKey("Lead"))
            {
                <div class="post-subtitle">@post.GetString("Lead")</div>
            }
            <p class="post-meta">Published on @post.GetDateTime(WebKeys.Published).ToLongDateString()</p>
        </div>
    }
}